<%= javascript_pack_tag 'farm' %>
<div class="sidebar">
    <%= render 'layouts/sidebar' %>
</div>

<div class="content">

    <div class="farm-form-div">

        <div id="accordion">

        <%= bootstrap_form_with model: @farm do |f| %>

            <!-- farm energy use form section -->
            <div class="card">
                <div class="card-header">
                    <a class="card-link" data-toggle="collapse" href="#collapseOne">
                        Farm Details
                    </a>
                </div>
                <div id="collapseOne" class="collapse show" data-parent="#accordion">
                    <div class="card-body">
                        <%= f.text_field :name, label: "Name" %>
                        <%= f.text_field :location,  label: "Location" %>
                        <%= f.text_field :latitude,  label: "Latitude" %>
                        <%= f.text_field :longitude, label: "Longitude" %>
                        <%= f.hidden_field :intervention, value: false %>
                    </div>
                </div>
            </div>

            <br>

            <!-- farm energy use form section -->
            <div class="card">
                <div class="card-header">
                    <a class="collapsed card-link" data-toggle="collapse" href="#collapseTwo">
                        Energy Use
                    </a>
                </div>
                <div id="collapseTwo" class="collapse" data-parent="#accordion">
                    <div class="card-body">
                        <%= f.text_field :total_diesel_use, step: :any, label: "Diesel Use (l)" %>
                        <%= f.number_field :total_gas_use, step: :any, label: "Gas Use (kWh)" %>
                        <%= f.number_field :total_electricity_use, step: :any, label: "Electricity Use (kWh)" %>
                    </div>
                </div>
            </div>

            <br>

            <!-- farm resource expenditure form section -->
            <div class="card">
                <div class="card-header">
                    <a class="collapsed card-link" data-toggle="collapse" href="#collapseThree">
                        Resource Expenditure
                    </a>
                </div>
                <div id="collapseThree" class="collapse" data-parent="#accordion">
                    <div class="card-body">
                        <%= f.number_field :artificial_fertiliser_use, step: :any, label: "Artificial Fertiliser Use (kg)" %>
                        <%= f.number_field :agriculture_products_spend, step: :any, label: "Agriculture Products Spend (£)" %>
                        <%= f.number_field :wood_and_wood_products_spend, step: :any, label: "Wood and Wood Products Spend (£)" %>
                        <%= f.number_field :pesticides_spend, step: :any, label: "Pesticides Spend (£)" %>
                        <%= f.number_field :machinery_and_equipment_spend, step: :any, label: "Machinery and Equipment Spend (£)" %>
                        <%= f.number_field :other_spend, step: :any, label: "Other Spend (£)" %>
                    </div>
                </div>
            </div>

            <br>

            <!-- farm livestock form section -->
            <div class="card">
                <div class="card-header">
                    <a class="collapsed card-link" data-toggle="collapse" href="#collapseFour">
                        Livestock
                    </a>
                </div>
                <div id="collapseFour" class="collapse" data-parent="#accordion">
                    <div class="card-body">
                        <%= f.number_field :number_of_sheep, label: "Number of Sheep" %>
                        <%= f.number_field :number_of_cows, label: "Number of Cows" %>
                    </div>
                </div>
            </div>

            <br>

            <!-- farm targets form section -->
            <div class="card">
                <div class="card-header">
                    <a class="collapsed card-link" data-toggle="collapse" href="#collapseFive">
                        Targets
                    </a>
                </div>
                <div id="collapseFive" class="collapse" data-parent="#accordion">
                    <div class="card-body">
                        <%= f.fields_for :target do |target_form| %>
                        <%= target_form.number_field :net_carbon_emission, step: :any, label: "Net Carbon Emission (kg)" %>
                        <%= target_form.number_field :defra_habitat_score, step: :any, label: "Defra Habitat Score" %>
                        <%= target_form.number_field :space_for_nature_score, step: :any, label: "Space for Nature Score" %>
                        <%= target_form.number_field :countryside_stewardship_score, step: :any, label: "Countryside Stewardship Score" %>
                        <%= target_form.number_field :biodiversity_score, step: :any, label: "Biodiversity Score" %>
                        <%= target_form.number_field :field_based_soil_health_score, step: :any, label: "Field-Based Soil Health Score" %>
                        <%= target_form.number_field :lab_based_soil_health_score, step: :any, label: "Lab-Based Soil Health Score" %>
                        <%= target_form.number_field :mean_SOC, step: :any, label: "Mean SOC" %>
                        <% end %>
                    </div>
                </div>
            </div>

            <br>

            <!-- farm land details form section -->
            <div class="card">
                <div class="card-header">
                    <a class="collapsed card-link" data-toggle="collapse" href="#collapseSix">
                        Land Details
                    </a>
                </div>
                <div id="collapseSix" class="collapse" data-parent="#accordion">
                    <div class="card-body container">
                        <div class="row">
                            <div class="col-6">
                                <h5>Land Category</h5>
                            </div>
                            <div class="col-3">
                                <h5>Area (ha)</h5>
                            </div>
                            <div class="col-3 text-centre">
                                <h5>Sprayed?</h5>
                            </div>
                        </div>
                        <%= f.fields_for :lands do |lands_form| %>
                            <%= render "land_fields", f: lands_form %>
                        <% end %>
                        <%= add_lands f %>
                    </div>
                </div>
            </div>

            <br>

            <!-- hedgerow details form section -->
            <div class="card">
                <div class="card-header">
                    <a class="collapsed card-link" data-toggle="collapse" href="#collapseSeven">
                        Hedgerow Details
                    </a>
                </div>
                <div id="collapseSeven" class="collapse" data-parent="#accordion">
                    <div class="card-body container">
                        <div class="row">
                            <div class="col-9">
                                <h5>Hedgerow Category</h5>
                            </div>
                            <div class="col-3">
                                <h5>Length (km)</h5>
                            </div>
                        </div>
                        <%= f.fields_for :hedgerows do |hedgerows_form| %>
                            <%= render "hedgerow_fields", f: hedgerows_form %>
                        <% end %>
                        <%= add_hedgerows f %>
                    </div>
                </div>
            </div>

        <!-- create farm button -->
        <div class="farm-submit-div">
            <%= f.submit "Create", class: "btn btn-default btn-primary" %>
            <% end %>
        </div>
    </div>
</div>


